{"version":3,"sources":["components/AddNewTask.tsx","components/Title.tsx","components/EditableLabel.tsx","components/TaskLine.tsx","components/TasksList.tsx","data-access/server-api.ts","components/App.tsx","index.tsx"],"names":["AddNewTask","props","useState","text","setText","classes","useStyles","addTaskIfNotEmpty","addTask","className","container","taskInput","autoFocus","value","onChange","e","target","onKeyDown","key","addButton","onClick","createUseStyles","display","marginBottom","flexGrow","maxWidth","borderRadius","paddingLeft","color","alignSelf","marginRight","marginLeft","border","backgroundColor","height","Title","tasksArray","Object","values","tasks","numOfTasks","length","header","filter","task","isDone","EditableLabel","isEditing","setEditing","children","doneEditing","saveText","label","onBlur","onFocus","currentTarget","select","fontSize","TaskLine","setTask","handleTaskChange","taskToUpdate","id","updateTask","checkbox","type","checked","newText","button","deleteTask","width","marginTop","borderBottomStyle","borderBottomColor","borderBottomWidth","TasksList","rows","map","getAllTasksFromServer","a","axios","get","response","data","deleteTaskFromServer","taskId","delete","addTaskToServer","post","updateTaskOnServer","App","setTasks","taskText","newTask","taskToAdd","newTasks","alert","updatedTask","taskToDelete","res","useEffect","tasksFromServer","app","minHeight","padding","fontFamily","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gOAIe,SAASA,EAAWC,GAAa,IAAD,EACnBC,mBAAiB,IADE,mBACpCC,EADoC,KAC9BC,EAD8B,KAErCC,EAAkCC,IAExC,SAASC,IACQ,KAATJ,IACAF,EAAMO,QAAQL,GACdC,EAAQ,KAIhB,OACI,sBAAKK,UAAWJ,EAAQK,UAAxB,UACI,uBAAOD,UAAWJ,EAAQM,UACtBC,WAAS,EACTC,MAAOV,EACPW,SAAU,SAACC,GAAD,OAAsCX,EAAQW,EAAEC,OAAOH,QACjEI,UAAW,SAACF,GAAD,MACI,UAAVA,EAAEG,KAAmBX,OAE9B,wBAAQE,UAAWJ,EAAQc,UAAWC,QAASb,EAA/C,yBAWZ,IAAMD,EAAYe,YAAgB,CAC9BX,UAAW,CACPY,QAAS,OACTC,aAAc,QAElBZ,UAAW,CACPa,SAAU,EACVC,SAAU,QACVC,aAAc,MACdC,YAAa,OAEjBR,UAAW,CACPS,MAAO,QACPC,UAAW,WACXC,YAAa,MACbC,WAAY,OACZC,OAAQ,OACRC,gBAAiB,QACjBP,aAAc,MACdQ,OAAQ,MCjDD,SAASC,EAAMlC,GAC1B,IAAMI,EAAkCC,IAClC8B,EAAqBC,OAAOC,OAAOrC,EAAMsC,OACzCC,EAAqBJ,EAAWK,OAEtC,OACI,8BACI,oBAAIhC,UAAWJ,EAAQqC,OAAvB,SAESF,EAAa,EACdJ,EAAWO,QAAO,SAAAC,GAAI,OAAIA,EAAKC,UAAQJ,OACvC,IAAMD,EAAa,SACnB,8BAWpB,IAAMlC,EAAYe,YAAgB,CAC9BqB,OAAQ,CACNd,MAAO,SC1BE,SAASkB,EAAe7C,GAAa,IAAD,EACjBC,oBAAkB,GADD,mBAC1C6C,EAD0C,KAC/BC,EAD+B,OAEzB9C,mBAAiBD,EAAMgD,UAFE,mBAE1C9C,EAF0C,KAEpCC,EAFoC,KAG3CC,EAAUC,IAEhB,SAAS4C,IACPF,GAAW,GACX/C,EAAMkD,SAAShD,GAGjB,OACE,sBAAMM,UAAWJ,EAAQ+C,MAAzB,SACGL,EACC,uBAAOtC,UAAWJ,EAAQ+C,MACxBvC,MAAOV,EACPW,SAAU,SAACC,GAAD,OAAsCX,EAAQW,EAAEC,OAAOH,QACjEwC,OAAQH,EACRjC,UAAW,SAACF,GAAD,MACE,UAAVA,EAAEG,KAAoBgC,KACzBtC,WAAS,EACT0C,QAAS,SAACvC,GAAD,OAA2CA,EAAEwC,cAAcC,YAGtE,uBACE/C,UAAWJ,EAAQ+C,MACnBhC,QAAS,kBAAM4B,GAAW,IAF5B,SAGG7C,MAYX,IAAMG,EAAYe,YAAgB,CAChC+B,MAAO,CACH9B,QAAS,OACTE,SAAU,EACViC,SAAU,UCxCD,SAASC,EAASzD,GAAa,IAAD,EACjBC,mBAAeD,EAAM2C,MADJ,mBAClCA,EADkC,KAC5Be,EAD4B,KAEnCtD,EAAkCC,IAExC,SAASsD,EAAT,GAAiE,IAAD,IAArCf,cAAqC,MAA9BD,EAAKC,OAAyB,MAAjB1C,KACrC0D,EAAe,CACjBhB,OAAQA,EACR1C,UAHwD,MAAZyC,EAAKzC,KAAO,EAIxD2D,GAAIlB,EAAKkB,IAGbH,EAAQE,GACR5D,EAAM8D,WAAWF,GAGrB,OACI,sBAAKpD,UAAWJ,EAAQuC,KAAxB,UACI,uBACInC,UAAWJ,EAAQ2D,SACnBC,KAAK,WACLC,QAAStB,EAAKC,OACd/B,SAAU,SAACC,GAAD,OACN6C,EAAiB,CAACf,OAAQ9B,EAAEC,OAAOkD,aAG3C,cAACpB,EAAD,CAAeK,SAAU,SAACgB,GAAD,OAAqBP,EAAiB,CAACzD,KAAMgE,KAAtE,SACKvB,EAAKzC,OAGV,wBACIM,UAAWJ,EAAQ+D,OACnBhD,QAAS,kBAAMnB,EAAMoE,WAAWzB,IAFpC,kBAKA,wBACInC,UAAWJ,EAAQ+D,OACnBhD,QAAS,kBAAMnB,EAAMoE,WAAWzB,IAFpC,uBAeZ,IAAMtC,EAAYe,YAAgB,CAC9B2C,SAAU,CACN9B,OAAQ,OACRoC,MAAO,QAEXF,OAAQ,CACJnC,gBAAiB,QACjBL,MAAO,MACPI,OAAQ,QAEZY,KAAM,CACFtB,QAAS,OACTiD,UAAW,MACXC,kBAAmB,QACnBC,kBAAmB,UACnBC,kBAAmB,SCjEZ,SAASC,EAAU1E,GAC9B,IAEM2E,EAFqBvC,OAAOC,OAAOrC,EAAMsC,OAERsC,KAAI,SAACjC,GACxC,OACI,8BACI,cAACc,EAAD,CACId,KAAMA,EACNmB,WAAY9D,EAAM8D,WAClBM,WAAYpE,EAAMoE,cAJhBzB,EAAKkB,OAUvB,OACI,8BACKc,I,oBCnBAE,EAAqB,uCAAG,4BAAAC,EAAA,sEACKC,IAAMC,IAAI,iBADf,cAC3BC,EAD2B,yBAE1BA,EAASC,MAFiB,2CAAH,qDAKrBC,EAAuB,SAACC,GAChC,OAAOL,IAAMM,OAAO,iBAAmBD,IAG/BE,EAAe,uCAAG,WAAM3C,GAAN,eAAAmC,EAAA,sEACWC,IAAMQ,KAAK,gBAAiB5C,GADvC,cACrBsC,EADqB,yBAEpBA,EAASC,MAFW,2CAAH,sDAKfM,EAAkB,uCAAG,WAAO7C,GAAP,SAAAmC,EAAA,sEACxBC,IAAMQ,KAAK,gBAAiB5C,GADJ,2CAAH,sDCRhB,SAAS8C,IAAO,IAAD,EACFxF,mBAAoB,IADlB,mBACrBqC,EADqB,KACdoD,EADc,KAEtBtF,EAAkCC,IAFZ,4CAe5B,WAAuBsF,GAAvB,mBAAAb,EAAA,sEAEUc,EAAmB,CAAC1F,KAAMyF,EAAU/C,QAAQ,GAFtD,SAGkC0C,EAAgBM,GAHlD,OAGUC,EAHV,OAIUC,EAJV,2BAIoCxD,GAJpC,kBAI4CuD,EAAUhC,GAAKgC,IACvDH,EAASI,GALb,gDAOIC,MAAM,4BAPV,0DAf4B,kEA0B5B,WAA0BC,GAA1B,eAAAlB,EAAA,+EAEUU,EAAmBQ,GAF7B,QAGUF,EAHV,eAGoCxD,IACvB0D,EAAYnC,IAAMmC,EAC3BN,EAASI,GALb,gDAOIC,MAAM,sBAPV,0DA1B4B,kEAqC5B,WAA2BE,GAA3B,iBAAAnB,EAAA,+EAEUK,EAAqBc,EAAapC,IAF5C,SAGYoC,EAAapC,GAAsBvB,EAH/C,GAGuC4D,EAHvC,YAG+C5D,EAH/C,cAIIoD,EAASQ,GAJb,gDAMIH,MAAM,8BANV,0DArC4B,sBA+C5B,OA3CAI,qBAAU,WACR,sBAAC,4BAAArB,EAAA,+EAE4CD,IAF5C,OAESuB,EAFT,OAGGV,EAASU,GAHZ,gDAKGL,MAAM,yBALT,wDAAD,KAQC,IAmCD,sBAAKvF,UAAWJ,EAAQiG,IAAxB,UACE,cAACnE,EAAD,CAAOI,MAAOA,IACd,cAACvC,EAAD,CAAYQ,QAlDY,8CAmDxB,cAACmE,EAAD,CACEpC,MAAOA,EACPwB,WArDsB,4CAsDtBM,WAtDsB,iDA4D9B,IAAM/D,EAAYe,YAAgB,CAChCiF,IAAK,CACH7E,SAAU,QACV8E,UAAW,QACXC,QAAS,OACTC,WAAY,eCtEhBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAClB,EAAD,MAEFmB,SAASC,eAAe,W","file":"static/js/main.6065f03f.chunk.js","sourcesContent":["import React, { ChangeEvent, useState } from 'react';\nimport {createUseStyles} from 'react-jss'\nimport PropTypes from 'prop-types';\n\nexport default function AddNewTask(props: any) {\n    const [text, setText] = useState<string>('');\n    const classes: Record<string, string> = useStyles();\n\n    function addTaskIfNotEmpty(): void {\n        if (text !== '') {\n            props.addTask(text);\n            setText('');\n        }\n    }\n\n    return (\n        <div className={classes.container}>\n            <input className={classes.taskInput}\n                autoFocus \n                value={text} \n                onChange={(e: ChangeEvent<HTMLInputElement>) => setText(e.target.value)}\n                onKeyDown={(e: React.KeyboardEvent<HTMLDivElement>) => \n                    (e.key === \"Enter\" && addTaskIfNotEmpty())} \n            />\n            <button className={classes.addButton} onClick={addTaskIfNotEmpty}>\n                Add Task\n            </button>\n        </div>\n    );  \n}\n\nAddNewTask.propTypes = {\n    addTask: PropTypes.func\n}\n\nconst useStyles = createUseStyles({\n    container: {\n        display: \"flex\",\n        marginBottom: \"20px\",\n    },\n    taskInput: {\n        flexGrow: 1,\n        maxWidth: \"400px\",\n        borderRadius: \"5px\",\n        paddingLeft: \"5px\",\n    },\n    addButton: {\n        color: \"white\",\n        alignSelf: \"flex-end\",\n        marginRight: \"5px\",\n        marginLeft: \"auto\",\n        border: \"none\",\n        backgroundColor: \"black\",\n        borderRadius: \"5px\",\n        height: 24,\n    },\n})","import { Task, TasksById } from '../../../common/Tasks';\nimport React from 'react';\nimport {createUseStyles} from 'react-jss';\nimport PropTypes from 'prop-types';\n\nexport default function Title(props: any) {\n    const classes: Record<string, string> = useStyles();\n    const tasksArray: Task[] = Object.values(props.tasks);\n    const numOfTasks: number = tasksArray.length;\n\n    return (\n        <div>\n            <h1 className={classes.header}>\n                {\n                    (numOfTasks > 0) ?\n                    tasksArray.filter(task => task.isDone).length + \n                    \"/\" + numOfTasks + \" tasks\" :\n                    \"Create your first task!\"\n                }\n            </h1> \n        </div>\n    );\n}\n\nTitle.propTypes = {\n    tasks: PropTypes.object\n}\n\nconst useStyles = createUseStyles({\n    header: {\n      color: 'red'\n    }\n});\n  ","import React, { ChangeEvent, useState } from 'react';\nimport {createUseStyles} from 'react-jss'\nimport PropTypes from 'prop-types';\n\nexport default function EditableLabel (props: any) {\n  const [isEditing, setEditing] = useState<boolean>(false);\n  const [text, setText] = useState<string>(props.children);\n  const classes = useStyles();\n\n  function doneEditing() {\n    setEditing(false);\n    props.saveText(text);\n  }\n  \n  return (\n    <span className={classes.label}>\n      {isEditing ? (\n        <input className={classes.label}\n          value={text}\n          onChange={(e: ChangeEvent<HTMLInputElement>) => setText(e.target.value)}\n          onBlur={doneEditing}\n          onKeyDown={(e: React.KeyboardEvent<HTMLInputElement>) => \n            (e.key === \"Enter\") && doneEditing()}\n          autoFocus\n          onFocus={(e: React.FocusEvent<HTMLInputElement>) => e.currentTarget.select()}\n        />\n      ) : (\n        <label\n          className={classes.label}\n          onClick={() => setEditing(true)}>\n          {text}\n        </label>\n      )}\n    </span>\n  );\n};\n\nEditableLabel.propTypes = {\n  children: PropTypes.string,\n  saveText: PropTypes.func\n}\n\nconst useStyles = createUseStyles({\n  label: {\n      display: \"flex\",\n      flexGrow: 1,\n      fontSize: \"20px\",\n}});\n","import React, { ChangeEvent, useState } from 'react';\nimport { Task } from '../../../common/Tasks';\nimport EditableLabel from './EditableLabel';\nimport {createUseStyles} from 'react-jss';\nimport PropTypes from 'prop-types';\n\nexport default function TaskLine(props: any) {\n    const [task, setTask] = useState<Task>(props.task);\n    const classes: Record<string, string> = useStyles();\n    \n    function handleTaskChange({isDone=task.isDone, text=task.text}) {\n        const taskToUpdate = {\n            isDone: isDone,\n            text: text,\n            id: task.id\n        };\n\n        setTask(taskToUpdate);\n        props.updateTask(taskToUpdate);\n    }\n\n    return (\n        <div className={classes.task}>\n            <input \n                className={classes.checkbox}\n                type=\"checkbox\" \n                checked={task.isDone}\n                onChange={(e: ChangeEvent<HTMLInputElement>) => \n                    handleTaskChange({isDone: e.target.checked})}\n            />\n\n            <EditableLabel saveText={(newText: string) => handleTaskChange({text: newText})}>\n                {task.text}\n            </EditableLabel>\n\n            <button \n                className={classes.button} \n                onClick={() => props.deleteTask(task)}> \n                Edit\n            </button>\n            <button \n                className={classes.button} \n                onClick={() => props.deleteTask(task)}> \n                Delete\n            </button>\n        </div>\n    );\n}\n\nTaskLine.propTypes = {\n    task: PropTypes.object,\n    updateTask: PropTypes.func,\n    deleteTask: PropTypes.func\n}\n\nconst useStyles = createUseStyles({\n    checkbox: {\n        height: \"18px\",\n        width: \"18px\",\n    },\n    button: {\n        backgroundColor: \"white\",\n        color: \"red\",\n        border: \"none\",\n    },\n    task: {\n        display: \"flex\",\n        marginTop: \"8px\",\n        borderBottomStyle: 'solid',\n        borderBottomColor: '#3d3d3d',\n        borderBottomWidth: '1px',\n    }\n});\n","import React from 'react';\nimport { Task } from '../../../common/Tasks';\nimport TaskLine from './TaskLine';\nimport PropTypes from 'prop-types';\n\nexport default function TasksList(props: any) {\n    const tasksArray: Task[] = Object.values(props.tasks);\n    \n    const rows: JSX.Element[] = tasksArray.map((task: Task) => {\n        return (\n            <div key={task.id}>\n                <TaskLine \n                    task={task} \n                    updateTask={props.updateTask} \n                    deleteTask={props.deleteTask}\n                />\n            </div>\n        );\n    });\n\n    return (\n        <div>\n            {rows}\n        </div>\n    );\n}\n\nTasksList.propTypes = {\n    tasks: PropTypes.object,\n    updateTask: PropTypes.func,\n    deleteTask: PropTypes.func\n}","import axios, { AxiosResponse } from 'axios';\nimport { Task, NewTask, TasksById, GUID } from '../../../common/Tasks';\n\nexport const getAllTasksFromServer = async(): Promise<TasksById> => {\n    const response: AxiosResponse = await axios.get('/api/v1/tasks');\n    return response.data;\n}\n\nexport const deleteTaskFromServer = (taskId: GUID): Promise<void> => {\n     return axios.delete('/api/v1/tasks/' + taskId);\n}\n\nexport const addTaskToServer = async(task: NewTask): Promise<Task> => {\n    const response: AxiosResponse = await axios.post('/api/v1/tasks', task);\n    return response.data;\n}\n\nexport const updateTaskOnServer = async (task: Task): Promise<void> => {\n    await axios.post('/api/v1/tasks', task);\n}","import React, { useEffect, useState } from 'react';\nimport AddNewTask from './AddNewTask';\nimport { NewTask, Task, TasksById } from '../../../common/Tasks';\nimport Title from './Title';\nimport TasksList from './TasksList';\nimport {getAllTasksFromServer, deleteTaskFromServer, addTaskToServer, updateTaskOnServer}\n  from '../data-access/server-api';\nimport {createUseStyles} from 'react-jss';\n\nexport default function App() {\n  const [tasks, setTasks] = useState<TasksById>({});\n  const classes: Record<string, string> = useStyles();  \n\n  useEffect((): void => {\n    (async (): Promise<void> => {\n      try {\n        const tasksFromServer: TasksById = await getAllTasksFromServer();\n        setTasks(tasksFromServer);\n      } catch (error) {\n        alert(\"cannot get your tasks\");\n      }\n    })()\n  }, []);\n\n  async function addTask(taskText: string): Promise<void> {\n    try {\n      const newTask: NewTask = {text: taskText, isDone: false};\n      const taskToAdd: Task = await addTaskToServer(newTask);\n      const newTasks: TasksById = {...tasks, [taskToAdd.id]: taskToAdd};\n      setTasks(newTasks);\n    } catch (error) {\n      alert(\"we cannot add your task!\");\n    }\n  }\n\n  async function updateTask(updatedTask: Task): Promise<void> {\n    try {\n      await updateTaskOnServer(updatedTask);\n      const newTasks: TasksById = {...tasks};\n      newTasks[updatedTask.id] = updatedTask;\n      setTasks(newTasks);\n    } catch (error) {\n      alert(\"cannot update task\");\n    }\n  }\n\n  async function deleteTask (taskToDelete: Task): Promise<void> {\n    try {\n      await deleteTaskFromServer(taskToDelete.id);\n      const {[taskToDelete.id]: task, ...res } = tasks;\n      setTasks(res);\n    } catch (error) {\n      alert(\"we cannot delete your task\");\n    }\n  }\n\n  return (\n    <div className={classes.app}>\n      <Title tasks={tasks} />\n      <AddNewTask addTask={addTask} />\n      <TasksList \n        tasks={tasks} \n        updateTask={updateTask}\n        deleteTask={deleteTask}\n      />\n    </div>\n  );\n}\n\nconst useStyles = createUseStyles({\n  app: {\n    maxWidth: \"600px\",\n    minHeight: \"400px\",\n    padding: \"10px\",            \n    fontFamily: \"Helvetica\",\n}});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}