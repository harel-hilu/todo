(this["webpackJsonp8-react"]=this["webpackJsonp8-react"]||[]).push([[0],{56:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),s=n(22),o=n.n(s),u=n(25),i=n(24),l=n(9),d=n(11),p=n(2),b=n.n(p),f=n(7),j=n(6),x=n(5);function h(e){var t=e.addTask,n=Object(r.useState)(""),c=Object(j.a)(n,2),s=c[0],o=c[1],u=k();function i(){""!==s&&(t(s),o(""))}return Object(a.jsxs)("div",{className:u.container,children:[Object(a.jsx)("input",{className:u.taskInput,autoFocus:!0,value:s,onChange:function(e){return o(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&i()}}),Object(a.jsx)("button",{className:u.addButton,onClick:i,children:"Add Task"})]})}var k=Object(x.a)({container:{display:"flex",marginBottom:"20px"},taskInput:{flexGrow:1,maxWidth:"400px",borderRadius:"5px",paddingLeft:"5px"},addButton:{color:"white",alignSelf:"flex-end",marginRight:"5px",marginLeft:"auto",border:"none",backgroundColor:"black",borderRadius:"5px",height:24}});function v(e){var t=e.tasks,n=e.showCompleted,r=O(),c=Object.values(t),s=c.length,o=c.filter((function(e){return e.isDone})).length,u=s-o,i="Create a task";return n?s>0&&(i="".concat(o,"/").concat(s," tasks")):u>0&&(i="0/".concat(u," tasks")),Object(a.jsx)("div",{children:Object(a.jsx)("h1",{className:r.header,children:i})})}var O=Object(x.a)({header:{color:"red"}});function m(e){var t=e.initialValue,n=e.saveText,c=Object(r.useState)(!1),s=Object(j.a)(c,2),o=s[0],u=s[1],i=Object(r.useState)(t),l=Object(j.a)(i,2),d=l[0],p=l[1],b=g();function f(){u(!1),n(d)}return Object(a.jsx)("span",{className:b.label,children:o?Object(a.jsx)("input",{className:b.label,value:d,onChange:function(e){return p(e.target.value)},onBlur:f,onKeyDown:function(e){return"Enter"===e.key&&f()},autoFocus:!0,onFocus:function(e){return e.currentTarget.select()}}):Object(a.jsx)("label",{className:b.label,onClick:function(){return u(!0)},children:d})})}var g=Object(x.a)({label:{display:"flex",flexGrow:1,fontSize:"20px"}});function w(e){var t=e.taskToRender,n=e.updateTask,c=e.deleteTask,s=Object(r.useState)(t),o=Object(j.a)(s,2),u=o[0],i=o[1],l=y();function d(e){var t=e.isDone,a=void 0===t?u.isDone:t,r=e.text,c={isDone:a,text:void 0===r?u.text:r,id:u.id};i(c),n(c)}return Object(a.jsxs)("div",{className:l.task,children:[Object(a.jsx)("input",{className:l.checkbox,type:"checkbox",checked:u.isDone,onChange:function(e){return d({isDone:e.target.checked})}}),Object(a.jsx)(m,{initialValue:u.text,saveText:function(e){return d({text:e})}}),Object(a.jsx)("button",{className:l.button,onClick:function(){return c(u)},children:"Delete"})]})}var y=Object(x.a)({checkbox:{height:"18px",width:"18px"},button:{backgroundColor:"white",color:"red",border:"none"},task:{display:"flex",marginTop:"8px",borderBottomStyle:"solid",borderBottomColor:"#3d3d3d",borderBottomWidth:"1px"}});function C(e){var t=e.tasks,n=e.updateTask,r=e.deleteTask,c=e.showCompleted,s=Object.values(t).filter((function(e){return c||!e.isDone})).map((function(e){return Object(a.jsx)("div",{children:Object(a.jsx)(w,{taskToRender:e,updateTask:n,deleteTask:r})},e.id)}));return Object(a.jsx)("div",{children:s})}var S=n(8),T=n.n(S),N=function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("/api/v1/tasks");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(e){return T.a.delete("/api/v1/tasks/"+e)},B=function(){var e=Object(f.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("/api/v1/tasks",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("/api/v1/tasks",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function E(){var e=Object(r.useState)({}),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(!0),o=Object(j.a)(s,2),p=o[0],x=o[1],k=I();function O(){return(O=Object(f.a)(b.a.mark((function e(t){var a,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={text:t,isDone:!1},e.next=4,B(a);case 4:r=e.sent,s=Object(d.a)(Object(d.a)({},n),{},Object(l.a)({},r.id,r)),c(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("we cannot add your task!");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function m(){return(m=Object(f.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(t);case 3:(a=Object(d.a)({},n))[t.id]=t,c(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("cannot update task");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function g(){return(g=Object(f.a)(b.a.mark((function e(t){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t.id);case 3:a=t.id,n[a],r=Object(u.a)(n,[a].map(i.a)),c(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("we cannot delete your task");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){var e=localStorage.getItem("todo_isShowCompleted");e&&x(JSON.parse(e)),Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N();case 3:t=e.sent,c(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("cannot get your tasks");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),Object(r.useEffect)((function(){localStorage.setItem("todo_isShowCompleted",JSON.stringify(p))}),[p]),Object(a.jsxs)("div",{className:k.app,children:[Object(a.jsx)(v,{tasks:n,showCompleted:p}),Object(a.jsx)(h,{addTask:function(e){return O.apply(this,arguments)}}),Object(a.jsx)("button",{onClick:function(){return x(!p)},className:k.button,children:p?"Hide completed":"Show completed"}),Object(a.jsx)(C,{tasks:n,updateTask:function(e){return m.apply(this,arguments)},deleteTask:function(e){return g.apply(this,arguments)},showCompleted:p})]})}var I=Object(x.a)({app:{maxWidth:"600px",minHeight:"400px",padding:"10px",fontFamily:"Helvetica"},button:{backgroundColor:"white",textColor:"black",marginBottom:"10px",marginRight:0,marginLeft:0,border:"none"}});o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(E,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.c17ec681.chunk.js.map